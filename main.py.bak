import flet as ft
from ui import MachineApp
import traceback


def main(page: ft.Page):
    try:
        MachineApp(page)
    except Exception:
        # Shows entire Stracktrace error in the flet app
        error_stack = traceback.format_exc()
        page.add(ft.Text(f"Kritischer Fehler beim Start:\n{error_stack}", color="red"))
        page.update()


if __name__ == "__main__":
    ft.app(target=main, assets_dir="assets")
